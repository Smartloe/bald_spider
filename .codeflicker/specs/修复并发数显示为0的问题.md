# 修复并发数显示问题

## 问题分析

### 根本原因
在 `bald_spider/core/downloader.py` 第47行中，代码使用了错误的配置项名称：
```python
f"<concurrency: {self.crawler.settings.getint('CONCURRENT_REQUESTS')}"
```

### 配置项不匹配
1. **实际配置**：在 `tests/baidu_spider/settings.py` 中使用的是 `CONCURRENCY = 2`
2. **默认配置**：在 `bald_spider/settings/default_settings.py` 中也是 `CONCURRENCY = 16`
3. **错误引用**：downloader 中使用的是 `CONCURRENT_REQUESTS`，但这个配置项不存在
4. **结果**：`getint('CONCURRENT_REQUESTS')` 返回默认值 0

### 影响范围
- 日志显示：`concurrency: 0` 而不是正确的并发数
- 实际功能：task_manager 使用的是正确的 CONCURRENCY 配置（2），所以实际并发是正常的
- 用户体验：显示信息与实际配置不符，造成困惑

## 解决方案

### 方案一：修复配置项名称（推荐）
将 downloader 中的 `CONCURRENT_REQUESTS` 改为 `CONCURRENCY`，与实际配置保持一致。

### 方案二：添加配置项映射
在 settings_manager 中添加配置项的别名映射，让 `CONCURRENT_REQUESTS` 指向 `CONCURRENCY`。

### 方案三：统一配置项命名
将所有地方的配置项统一为 `CONCURRENT_REQUESTS`，修改 settings.py 和 default_settings.py。

## 实施步骤

1. **修改 downloader.py**：将 `CONCURRENT_REQUESTS` 改为 `CONCURRENCY`
2. **验证修复**：运行测试确认显示正确的并发数
3. **检查一致性**：确保所有使用并发配置的地方都使用正确的配置项名称

## 预期结果
修复后，日志应该显示：
```
<downloader class: Downloader<concurrency: 2>
```
而不是：
```
<downloader class: Downloader<concurrency: 0>
```

## 注意事项
- 这个问题只是显示问题，不影响实际的并发执行
- task_manager 正确使用了 CONCURRENCY 配置，所以实际并发数是正确的
- 修复后需要验证是否还有其他地方使用了错误的配置项名称